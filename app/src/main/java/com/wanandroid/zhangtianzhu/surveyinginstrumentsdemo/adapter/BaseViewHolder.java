package com.wanandroid.zhangtianzhu.surveyinginstrumentsdemo.adapter;import android.content.Context;import android.util.SparseArray;import android.view.View;import android.widget.ImageView;import android.widget.TextView;import androidx.annotation.DrawableRes;import androidx.annotation.IdRes;import androidx.recyclerview.widget.GridLayoutManager;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;/** * @author ztz */public class BaseViewHolder extends RecyclerView.ViewHolder {    private SparseArray<View> mViews;    public BaseViewHolder(View itemView) {        super(itemView);        mViews = new SparseArray<>();    }    public  <T extends View> T getView(@IdRes int viewId) {        //先从缓存中找        View view = mViews.get(viewId);        if (view == null) {            view = itemView.findViewById(viewId);            mViews.put(viewId, view);        }        return (T) view;    }    public BaseViewHolder setTextView(@IdRes int viewId, CharSequence text) {        TextView view = getView(viewId);        view.setText(text);        return this;    }    public BaseViewHolder setImageView(@IdRes int viewId, int resourceId) {        ImageView imageView = getView(viewId);        imageView.setImageResource(resourceId);        return this;    }    public BaseViewHolder setOnItemClickListener(View.OnClickListener listener) {        itemView.setOnClickListener(listener);        return this;    }    public BaseViewHolder setVisibility(@IdRes int viewId, int visibility) {        View view = getView(viewId);        view.setVisibility(visibility);        return this;    }    public BaseViewHolder setDrawable(@IdRes int viewId, @DrawableRes int res) {        View view = getView(viewId);        view.setBackgroundResource(res);        return this;    }    public BaseViewHolder setAdapter(@IdRes int viewId, RecyclerView.Adapter adapter, Context context) {        RecyclerView rl = getView(viewId);        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);        linearLayoutManager.setOrientation(LinearLayoutManager.HORIZONTAL);        rl.setLayoutManager(linearLayoutManager);        rl.setAdapter(adapter);        return this;    }    public BaseViewHolder setVerticalAdapter(@IdRes int viewId, RecyclerView.Adapter adapter, Context context) {        RecyclerView rl = getView(viewId);        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(context);        rl.setLayoutManager(linearLayoutManager);        rl.setAdapter(adapter);        return this;    }    public BaseViewHolder setSymbolAdapter(@IdRes int viewId, RecyclerView.Adapter adapter, Context context) {        RecyclerView rl = getView(viewId);        GridLayoutManager gridLayoutManager = new GridLayoutManager(context,4);        rl.setLayoutManager(gridLayoutManager);        rl.setAdapter(adapter);        return this;    }    public BaseViewHolder setOnClickListener(@IdRes int viewId, View.OnClickListener listener) {        View view = getView(viewId);        view.setOnClickListener(listener);        return this;    }}